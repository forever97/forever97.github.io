<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>未央の童话镇</title><meta name="keywords" content="forever97, 未央, 童话镇"><meta name="author" content="forever97"><meta name="copyright" content="forever97"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta property="og:type" content="website">
<meta property="og:title" content="未央の童话镇">
<meta property="og:url" content="https://forever97.top/page/8/index.html">
<meta property="og:site_name" content="未央の童话镇">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/avatar.png">
<meta property="article:author" content="forever97">
<meta property="article:tag" content="forever97, 未央, 童话镇">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/avatar.png"><link rel="shortcut icon" href="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/favicon.png"><link rel="canonical" href="https://forever97.top/page/8/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="preconnect" href="//zz.bdstatic.com"/><meta name="baidu-site-verification" content="f7c8ecf684c23d02cca2e82c827ff2a2"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?194bd025765eb0d478283a5eb4217ad4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: forever97","link":"链接: ","source":"来源: 未央の童话镇","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-06-26 06:44:49'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}const fontSizeVal = saveToLocal.get('global-font-size')
if (fontSizeVal !== undefined) {
  document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
}})()</script><link rel="stylesheet" href="/gitcalendar/css/gitcalendar.css"/><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'"><link rel="stylesheet" href="/magnet/css/catalogMagnet.css"/><link rel="stylesheet" href="/swiper/swiper.min.css"><link rel="stylesheet" href="/swiper/swiperstyle.css"><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">149</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">122</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-bookmark"></i><span> 博客</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-20px;"><li><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></li><li><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> 链接</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-60px;"><li><a class="site-page" href="/moments/"><i class="fa-fw fas fa-user-circle"></i><span> 朋友圈</span></a></li><li><a class="site-page" href="/link/"><i class="fa-fw fas fa-address-book"></i><span> 友人帐</span></a></li><li><a class="site-page" href="/website/"><i class="fa-fw fas fa-th-large"></i><span> 百宝箱</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-60px;"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 镜像</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-100px;"><li><a class="site-page" href="https://forever97.top/"><i class="fa-fw fab fa-vimeo"></i><span> Vercel</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://forever97.gitee.io/"><i class="fa-fw fab fa-google"></i><span> Gitee</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://forever97.github.io/"><i class="fa-fw fab fa-github"></i><span> Github</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://forever97.netlify.app/"><i class="fa-fw fab fa-tripadvisor"></i><span> Netlify</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-info-circle"></i><span> 关于</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-20px;"><li><a class="site-page" href="/site/"><i class="fa-fw fas fa-sitemap"></i><span> 本站</span></a></li><li><a class="site-page" href="/me/"><i class="fa-fw fas fa-id-badge"></i><span> 本人</span></a></li></ul></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/welcome-cover.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">未央の童话镇</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-bookmark"></i><span> 博客</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-20px;"><li><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></li><li><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> 链接</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-60px;"><li><a class="site-page" href="/moments/"><i class="fa-fw fas fa-user-circle"></i><span> 朋友圈</span></a></li><li><a class="site-page" href="/link/"><i class="fa-fw fas fa-address-book"></i><span> 友人帐</span></a></li><li><a class="site-page" href="/website/"><i class="fa-fw fas fa-th-large"></i><span> 百宝箱</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-60px;"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 镜像</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-100px;"><li><a class="site-page" href="https://forever97.top/"><i class="fa-fw fab fa-vimeo"></i><span> Vercel</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://forever97.gitee.io/"><i class="fa-fw fab fa-google"></i><span> Gitee</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://forever97.github.io/"><i class="fa-fw fab fa-github"></i><span> Github</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://forever97.netlify.app/"><i class="fa-fw fab fa-tripadvisor"></i><span> Netlify</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-info-circle"></i><span> 关于</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child" style="left:-20px;"><li><a class="site-page" href="/site/"><i class="fa-fw fas fa-sitemap"></i><span> 本站</span></a></li><li><a class="site-page" href="/me/"><i class="fa-fw fas fa-id-badge"></i><span> 本人</span></a></li></ul></div></div></div><div id="rightmenu" style="flex:1"><div id="search-button" style="position:absolute;right:2%"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">未央の童话镇</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/forever97" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://gitee.com/forever97/" target="_blank" title="Gitee"><i class="fab fa-google"></i></a><a class="social-icon" href="https://www.cnblogs.com/forever97" target="_blank" title="博客园"><i class="fas fa-blog"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=857426255&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:857426255@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item photo-tag" style="width:100%;height:auto;float:left;padding:5px;flex-wrap:wrap;justify-content:center;flex-direction:row;"><div id="catalogMagnet"><figure class="gallery-group color-card" v-for="(item,index) in link" :style="[figbackColor,figShadow]"><img class="gallery-group-img loaded" :src="img[index]" data-ll-status="loaded"><figcaption :style="[figLetimg,figLetColor]"><div class="gallery-group-name magnetname" style="font-size: 1rem;"><span>| </span><a :href="catalogMagnet.link[index]" :style="[figLetColor]">{{catalogMagnet.link[index].text}}</a></div><li class="category-list-item"><span class="category-list-count"><i class="fas fa-book"></i>{{catalogMagnet.postnum[index].textContent}}</span></li><p>{{catalogMagnet.describe[index]}}</p><a :href="catalogMagnet.link[index]"></a></figcaption></figure></div><div class="categoryMagnetitem" style="display:none"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E2%AD%90OD%E6%91%98%E6%98%9F%E6%A5%BC/">⭐OD摘星楼</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8C%99VUE%E6%A2%A6%E5%B7%A5%E5%8E%82/">🌙VUE梦工厂</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8C%BACSS%E8%8A%B1%E5%B8%82/">🌺CSS花市</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8D%AD%E7%AE%97%E6%B3%95%E5%B9%BC%E5%84%BF%E5%9B%AD/">🍭算法幼儿园</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8D%B0HTML%E7%82%B9%E5%BF%83%E9%93%BA/">🍰HTML点心铺</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8D%B5D3%E8%8C%B6%E6%A5%BC/">🍵D3茶楼</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8D%BABLOG%E9%85%92%E8%82%86/">🍺BLOG酒肆</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8E%A8React%E6%9F%93%E5%9D%8A/">🎨React染坊</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8E%AAGAN%E9%A9%AC%E6%88%8F%E5%9B%A2/">🎪GAN马戏团</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%8E%B5Canvas%E4%B9%90%E5%9D%8A/">🎵Canvas乐坊</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%92%84VIS%E8%83%AD%E8%84%82%E9%93%BA/">💄VIS胭脂铺</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%93%9AVQA%E8%97%8F%E4%B9%A6%E9%98%81/">📚VQA藏书阁</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%94%AC%E7%88%AC%E8%99%AB%E7%A0%94%E7%A9%B6%E6%89%80/">🔬爬虫研究所</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%F0%9F%A7%B8JS%E7%8E%A9%E5%85%B7%E5%B1%8B/">🧸JS玩具屋</a><span class="category-list-count">6</span></li></ul></div></div><div class="recent-post-item" style="height:0px;clear:both;margin-top: 0px;border: 0px;"></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/28/HALF/" title="出现次数大于集合大小一半的数字">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="出现次数大于集合大小一半的数字"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/28/HALF/" title="出现次数大于集合大小一半的数字">出现次数大于集合大小一半的数字</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-28T11:04:29.000Z" title="发表于 2019-08-28 11:04:29">2019-08-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/">线段树</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%A0%91%E4%B8%8A%E5%80%8D%E5%A2%9E/">树上倍增</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E8%8E%AB%E9%98%9F/">莫队</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91/">可持久化线段树</a></span></div><div class="content">集合版本给定一个集合，问出现次数大于一半的数字
权值数组统计权值数组计数，upd后超过一半即为答案
区间版本给一个长度为$n$的序列$a$，$1 \le a_i \le n$
给定$m$组询问，每次询问一个区间$[l,r]$
查询是否存在一个数在$[l,r]$中出现的次数大于$\frac{r-l+1}{2}$
如果存在，输出这个数，否则输出0
单增莫队莫队处理询问
权值数组计数，保存出现次数最多的点权和次数
非可加数据，需单增处理
复杂度$O((m+n)\sqrt{n})$
可持久化线段树建立可持久化的权值线段树
对于区间查询，在线段树上二分查询R和L-1版本间的数值差符合要求的位置
复杂度$O(nlog_2n)$
树上版本给定一棵$n$个点的点权树，点权$c_i \le n$
$m$组询问，查询一条树链上是否有出现次数大于长度一半的点权值
有则输出点权，没有则输出$-1$
Solution构造一个偏序对$(a,w)$
表示一个集合中可能出现次数最多的元素，以及其权值，初始权值为1
当两个集合合并时，如果出现次数最多元素相同，则权值相加
否则权值相减，权值大的减去权值小的，保留权值大的 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/27/HDU6706/" title="HDU 6706 huntian oy [杜教筛]">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HDU 6706 huntian oy [杜教筛]"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/27/HDU6706/" title="HDU 6706 huntian oy [杜教筛]">HDU 6706 huntian oy [杜教筛]</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-27T14:24:21.000Z" title="发表于 2019-08-27 14:24:21">2019-08-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%9D%9C%E6%95%99%E7%AD%9B/">杜教筛</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%95%B0%E5%80%BC%E5%88%86%E5%9D%97/">数值分块</a></span></div><div class="content">Problem求解$\sum ^{n}{i=1}\sum ^{i}{j=1}\gcd ( i^{a}-j^{a} , i^b-j^b)[\gcd(i,j)=1][\gcd(a,b)=1]$
$1 \le n \le 10^9$
Solution因为$\gcd(i,j)=1$
原式等价于$\sum ^{n}{i=1}\sum ^{i}{j=1}i^{\gcd (a,b)}-j^{\gcd (a,b)}[\gcd(i,j)=1][\gcd(a,b)=1]$
又$\gcd(a,b)=1$
式子化简为$\sum ^{n}{i=1}\sum ^{i}{j=1}i-j[\gcd(i,j)=1]$
对称变换得$(\sum ^{n}{i=1}\sum ^{i}{j=1}j[\gcd(i,j)=1])-1$
$\sum^n_{i=1}i[\gcd(i,n)=1]=\frac{n\ast\varphi(n)+[n=1]}{2}$
所以原式等价于$\frac{(\sum^{n}_{i=1}i\ast\varphi(i))-1}{2}$
记$S(n)=\sum^{n}_{i=1}i\ast\varphi(i) ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/21/BZOJ1483/" title="BZOJ 1483 梦幻布丁 [启发式合并]">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BZOJ 1483 梦幻布丁 [启发式合并]"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/21/BZOJ1483/" title="BZOJ 1483 梦幻布丁 [启发式合并]">BZOJ 1483 梦幻布丁 [启发式合并]</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-21T09:12:50.000Z" title="发表于 2019-08-21 09:12:50">2019-08-21</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E5%90%AF%E5%8F%91%E5%BC%8F%E5%90%88%E5%B9%B6/">启发式合并</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E9%93%BE%E8%A1%A8/">链表</a></span></div><div class="content">Problem给定$n(n \le 10^6)$个小球，排着一排，每个球都有一种颜色
现在要求维护两种操作：

 将所有颜色为$x$的球变成颜色为$y$的球
 查询这排小球有多少连续相同的色段

Solution我们维护每种颜色的位置链表
当发生合并时，将$size$小的链表并入$size$大的链表
枚举$x$颜色每个位置，暴力染成$y$，如果和左右节点染色后颜色相同则答案发生修改
并入时$size$翻倍，因此每个点最多并入$log_2n$次，复杂度$O(nlog_2n)$
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;bits/stdc++.h&gt;using namespace std;const int N = 1000000 + 10;int G[N], nxt[N], v[N], cnt = 0;int id[N], c[N], siz[N];int n, m, op, x, y, ans;void merge ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/20/HDU6597/" title="HDU 6597 Game [不平等博弈+三进制状态]">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HDU 6597 Game [不平等博弈+三进制状态]"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/20/HDU6597/" title="HDU 6597 Game [不平等博弈+三进制状态]">HDU 6597 Game [不平等博弈+三进制状态]</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-20T13:17:48.000Z" title="发表于 2019-08-20 13:17:48">2019-08-20</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E4%B8%8D%E5%B9%B3%E7%AD%89%E5%8D%9A%E5%BC%88/">不平等博弈</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E4%B8%89%E8%BF%9B%E5%88%B6%E7%8A%B6%E5%8E%8B/">三进制状压</a></span></div><div class="content">Problem给定一个多个3*3的棋盘格，包含#,.,O和X
Alice和Bob轮流对这些棋盘格做操作，当一方不能操作了算输
Alice每次可以选择一个O，将其变成#
同时，对以下三种事件挑选一种发生：[不能不选]

选择的格子上下格子均变成#

选择的格子左右格子均变成#

上述两种事件同时发生


Bob每次可以选择一个X，将其变成#，没有任何伴随事件
如果Alice或者Bob始终能赢则对应输出Alice和Bob
否则如果先手或者后手始终能赢则对应输出First和Second
否则直接输出Others
Solution$SN={Alice \ can \ get|Bob \ can \ get}$
非平等博弈只存在三种情况：

 $SN&gt;0$：Alice总能够取胜
 $SN&lt;0$：Bob总能取胜
 $SN==0$：后手总能取胜

我们对$3*3$棋盘进行三进制状压
暴力预处理出每种状态下的$SN$，$Multi-SN$情况将$SN$相加判断即可
123456789101112131415161718192021222324252627282930313233343536 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/20/POJ2931/" title="POJ 2931 Procrastination [不平等博弈]">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="POJ 2931 Procrastination [不平等博弈]"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/20/POJ2931/" title="POJ 2931 Procrastination [不平等博弈]">POJ 2931 Procrastination [不平等博弈]</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-20T10:31:59.000Z" title="发表于 2019-08-20 10:31:59">2019-08-20</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E4%B8%8D%E5%B9%B3%E7%AD%89%E5%8D%9A%E5%BC%88/">不平等博弈</a></span></div><div class="content">Problem游戏开始有四座塔，每座均由正方体叠成，所有正方体是黑色或者白色
玩家$L$和$R$轮流操作，每次选定一个正方体，将正方体及其以上正方体全部拿走
$L$玩家只能选择白色正方体，$R$玩家只能选择黑色正方体，不能操作者输
如果$L$玩家无论先手或者后手都能赢，则称局面为$W-configuration$
定义子局面为三塔局面即为$C$，对于完整局面$(C,T)$
如果对于任意塔$T$，$(C2,T)$为$W-configuration$时，$(C1,T)$均为$W-configuration$
则称$C1$不劣于$C2$，给定$C1$和$C2$，判断$C1$是否不劣于$C2$
Solution考虑一座塔的SN值，当塔为空时$SN={|}=0$
如果塔包含一个白色正方体，则玩家L拥有可转移到$0$的决策，$SN={0|}=1$
如果塔包含n个白色正方体，则$SN={0,1,…,n-1|}=n$
同理塔包含n个黑色正方体时$SN=-n$
当塔包含n个白色正方体和顶端一个黑色正方体时，$SN={0,1,…,n-1|n}={n-1|n}=n-\frac{1}{2}$
如果包含n个白色 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/20/2019NOWCODER8E/" title="2019NowCoder 8E Explorer [线段树分治+并查集]">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2019NowCoder 8E Explorer [线段树分治+并查集]"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/20/2019NOWCODER8E/" title="2019NowCoder 8E Explorer [线段树分治+并查集]">2019NowCoder 8E Explorer [线段树分治+并查集]</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-20T00:04:09.000Z" title="发表于 2019-08-20 00:04:09">2019-08-20</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%86%E6%B2%BB/">线段树分治</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E7%A6%BB%E6%95%A3%E5%8C%96/">离散化</a></span></div><div class="content">Problem有$10^9$只小怪兽，第$i$只编号为$i$
有一张$n$个点，$m$条边的无向图$(n,m \le 10^5)$
每条边只允许编号在$[l,r]$之间的小怪兽通过
问有多少小怪兽可以从$1$点抵达$n$点
Solution我们对边标号区间$[l,r]$进行离散，最多产生$2*m-1$个区间，左闭右开处理
对区间进行时间分治，在线段树节点上保存覆盖子树所有区间的边$id$
对线段树DFS遍历，当$1$和$n$连通时将节点包含的编号统计入答案即可
连通性判断用可回溯并查集，复杂度$O(mlog_2m)$
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#include &lt;bits/stdc++.h&gt;using namespace std;const int N = 200000 + 10;// Union  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/19/CF938G/" title="CF 938 G Shortest Path Queries [线段树分治+并查集+线性基]">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CF 938 G Shortest Path Queries [线段树分治+并查集+线性基]"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/19/CF938G/" title="CF 938 G Shortest Path Queries [线段树分治+并查集+线性基]">CF 938 G Shortest Path Queries [线段树分治+并查集+线性基]</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-19T10:57:02.000Z" title="发表于 2019-08-19 10:57:02">2019-08-19</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%86%E6%B2%BB/">线段树分治</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E7%BA%BF%E6%80%A7%E5%9F%BA/">线性基</a></span></div><div class="content">Problem给定一张无向边权图，要求维护三个操作
OP1.$[x,y,z]$:在点$x$和点$y$之间加一条边权为z的边，保证之前没有边
OP2.$[x,y]$:将点$x$和$y$之间的边删除，保证之前有边
OP3.$[x,y]$:查询$x$到$y$的路径的异或最小值，可以是非简单路
Solution图上两点异或路径的最小值为生成树上异或距离和树上环的组合
我们以OP3为时间线建线段树，将覆盖操作时间点的边保存在线段树节点
对OP3的线段树进行DFS遍历，用并查集维护两点间的$xor$距离
当成环时将环加入$xor$线性基，在叶节点查询$xor$线性基和$xor$距离组合的最小值即可
线性基空间$O(30)$可以选择直接传参，并查集空间$O(n)$需回溯
时间复杂度$O(mlog_2t)$，$t$为OP3的数量，$m$为总边数
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/18/2019NOWCODER10F/" title="2019NowCoder 10F Popping Balloons [枚举+线段树]">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2019NowCoder 10F Popping Balloons [枚举+线段树]"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/18/2019NOWCODER10F/" title="2019NowCoder 10F Popping Balloons [枚举+线段树]">2019NowCoder 10F Popping Balloons [枚举+线段树]</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-18T19:06:05.000Z" title="发表于 2019-08-18 19:06:05">2019-08-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%9E%9A%E4%B8%BE/">枚举</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/">线段树</a></span></div><div class="content">Problem给定$n(n \le 10^5)$个点的坐标$(x,y)$
选择三条距离相邻距离为r的竖线和三条相邻距离为r的横线，使得线上的点数量最多
Solution考虑枚举横线的选取，数据结构维护竖线的极值
我们把相邻为r的三条竖线的值的和保存在第一条竖线上，即可数据结构维护   
考虑枚举的横线和竖线的重复点部分，我们将枚举的横线上的点删除，修改竖线，统计完加回
每个点只会被删除三次，因此总复杂度$O(nlog_2n) $
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;bits/stdc++.h&gt;using namespace std;const int L = 100000;const int N = 300000 + 10;vector&lt;int&gt; v[N];int d[N], T[N &lt;&lt; 2], M;void upd(int x, int y) &#123;    T[M + x] += y; ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/18/HDU6653/" title="HDU 6653 Halt Hater [构造]">     <img class="post_bg" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/solution.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HDU 6653 Halt Hater [构造]"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/18/HDU6653/" title="HDU 6653 Halt Hater [构造]">HDU 6653 Halt Hater [构造]</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-18T13:48:11.000Z" title="发表于 2019-08-18 13:48:11">2019-08-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/">✨题解杂货铺</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%9E%84%E9%80%A0/">构造</a></span></div><div class="content">Problem你位于$(0,-1)$到$(0,0)$的路上，每到一个整点，你可以选择左右转或者直行，右转不产生代价，左转的代价为$a$，直行的代价为$b$，求抵达目标点$(x,y)$的最小代价
Solution考虑到右转不花费代价，我们将每四条边缩点，以方格中心为点重构图 
在新图中，直行代价为$b$，斜行代价为$a$，先求出通过斜行或者直行走到一条直线上的最小代价，然后求解一条直线的最小代价即可
12345678910111213141516171819202122232425#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int a, b;ll Calc(ll x, ll y) &#123;    if (y &lt; x) swap(x, y);    ll res = x * min(a, 2 * b);    y -= x;    res += (y / 2) * 2 * min(a, b);    if (y &amp; 1) res += b;    return res;&#1 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/7/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">forever97</div><div class="author-info__description">在人海里梦游</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">149</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">122</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/forever97"><i class="fab fa-github"></i><span>来给我加星星</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/forever97" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://gitee.com/forever97/" target="_blank" title="Gitee"><i class="fab fa-google"></i></a><a class="social-icon" href="https://www.cnblogs.com/forever97" target="_blank" title="博客园"><i class="fas fa-blog"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=857426255&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:857426255@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content"><h2 style="color:orange; margin:2px;">🍊欢迎光临本站</h2> 如果卡顿请访问 <a target="_blank" rel="noopener" href="https://forever97.gitee.io" style="cursor:pointer; color:#fff; background-color:orange; padding:2px 5px; border-radius:5px;">Gitee镜像站</a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/26/reactHooks/" title="React基础速通计划：React Hooks"><img data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/react.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="React基础速通计划：React Hooks"/></a><div class="content"><a class="title" href="/2022/06/26/reactHooks/" title="React基础速通计划：React Hooks">React基础速通计划：React Hooks</a><time datetime="2022-06-26T14:26:47.000Z" title="发表于 2022-06-26 14:26:47">2022-06-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/19/reactComponent/" title="React基础速通计划：React组件"><img data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/react.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="React基础速通计划：React组件"/></a><div class="content"><a class="title" href="/2022/06/19/reactComponent/" title="React基础速通计划：React组件">React基础速通计划：React组件</a><time datetime="2022-06-19T11:09:45.000Z" title="发表于 2022-06-19 11:09:45">2022-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/16/reactBasic/" title="React基础速通计划：React基础与JSX"><img data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/react.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="React基础速通计划：React基础与JSX"/></a><div class="content"><a class="title" href="/2022/06/16/reactBasic/" title="React基础速通计划：React基础与JSX">React基础速通计划：React基础与JSX</a><time datetime="2022-06-16T15:58:27.000Z" title="发表于 2022-06-16 15:58:27">2022-06-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/07/eventloop/" title="JS事件循环"><img data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/eventloop.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JS事件循环"/></a><div class="content"><a class="title" href="/2021/09/07/eventloop/" title="JS事件循环">JS事件循环</a><time datetime="2021-09-07T14:32:33.000Z" title="发表于 2021-09-07 14:32:33">2021-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/31/promise/" title="Promise详解"><img data-lazy-src="https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/promise.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Promise详解"/></a><div class="content"><a class="title" href="/2021/08/31/promise/" title="Promise详解">Promise详解</a><time datetime="2021-08-31T10:04:59.000Z" title="发表于 2021-08-31 10:04:59">2021-08-31</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E2%9C%A8%E9%A2%98%E8%A7%A3%E6%9D%82%E8%B4%A7%E9%93%BA/"><span class="card-category-list-name">✨题解杂货铺</span><span class="card-category-list-count">26</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E2%AD%90OD%E6%91%98%E6%98%9F%E6%A5%BC/"><span class="card-category-list-name">⭐OD摘星楼</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%F0%9F%8C%99VUE%E6%A2%A6%E5%B7%A5%E5%8E%82/"><span class="card-category-list-name">🌙VUE梦工厂</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%F0%9F%8C%BACSS%E8%8A%B1%E5%B8%82/"><span class="card-category-list-name">🌺CSS花市</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%F0%9F%8D%AD%E7%AE%97%E6%B3%95%E5%B9%BC%E5%84%BF%E5%9B%AD/"><span class="card-category-list-name">🍭算法幼儿园</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%F0%9F%8D%B0HTML%E7%82%B9%E5%BF%83%E9%93%BA/"><span class="card-category-list-name">🍰HTML点心铺</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%F0%9F%8D%B5D3%E8%8C%B6%E6%A5%BC/"><span class="card-category-list-name">🍵D3茶楼</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%F0%9F%8D%BABLOG%E9%85%92%E8%82%86/"><span class="card-category-list-name">🍺BLOG酒肆</span><span class="card-category-list-count">2</span></a></li>
            <li class="card-category-list-item more is-center"><a class="card-category-list-link-more" href="/categories/">
                <span>查看更多</span><i class="fas fa-angle-right"></i></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">六月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">149</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2019-08-18T00:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">305.1k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-06-26T06:44:47.577Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://forever97-picture-bed.oss-cn-hangzhou.aliyuncs.com/img/welcome-cover.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2022 By forever97</div><div class="footer_custom_text"><p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://demo.jerryc.me/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://metroui.org.ua/index.html "><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站托管于Vercel">&nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "醉卧经阁半卷书&#44;坐井说天阔,纵使文章惊海里&#44;纸上苍生而已".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '醉卧经阁半卷书&#44;坐井说天阔'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><script src="/gitcalendar/js/gitcalendar.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-volantis@latest/source/js/issues.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><script src="/magnet/js/catalogMagnet.js"></script><script src="/swiper/swiper.min.js"></script><script src="/swiper/swiperindex.js"></script><script src="/js/moments.js"></script><script src="/js/smooth-scrolling.js"></script><script src="/js/custom.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script>(function(){
  const bp = document.createElement('script');
  const curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  bp.dataset.pjax = ''
  const s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})()</script></div><!-- hexo injector body_end start --><script data-pjax>function history_calendar_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>未央の时光机</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
                console.log('已挂载history_calendar')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='/'|| '/' ==='all')){

            history_calendar_injector_config()
        } </script><script data-pjax  src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/33.2017.newyear.model.json"},"display":{"position":"right","width":200,"height":300},"mobile":{"show":false},"react":{"opacity":0.7}});</script></body></html>